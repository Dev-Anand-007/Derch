# Derch E-Commerce Backend

**Author:** Derch  
**Tech Stack:** Node.js, Express.js, MongoDB, Mongoose, Multer, Joi, JWT  

A **production-ready e-commerce backend** with modular architecture, secure authentication, and complete admin & user features.

---

## Features
- User APIs: Registration, login, logout, authentication check
- Admin APIs: Admin creation, login, fetch users, token verification
- Product Management: Create, edit, delete, fetch products (Admin & User)
- Cart & Wishlist: Add, remove, fetch items
- Order Management: Add, fetch orders (User & Admin)
- JWT-based authentication
- Joi validation for secure data
- Multer for product image upload
- Logging for clean production API calls

---

## Installation

```bash
git clone <repository_url>
cd <project_folder>
npm install
# Derch E-Commerce Backend - API Endpoints

## Admin Routes

| Method | Endpoint                  | Description                                      | Access       |
|--------|---------------------------|--------------------------------------------------|-------------|
| GET    | `/admin/`                 | Admin dashboard                                  | Admin       |
| POST   | `/admin/create`            | Create new admin (development only)             | Dev Only    |
| POST   | `/admin/login`             | Admin login                                     | Public      |
| GET    | `/admin/check`             | Verify admin token                               | Admin       |
| GET    | `/admin/fetch/:id`         | Fetch admin by ID                                | Admin       |
| GET    | `/admin/fetchUser`         | Fetch all users                                  | Admin       |

### Admin Product Management

| Method | Endpoint                        | Description                                | Access |
|--------|---------------------------------|--------------------------------------------|--------|
| POST   | `/admin/product/create`          | Create new product (image upload)          | Admin  |
| PUT    | `/admin/product/:id`             | Edit product (image upload)                | Admin  |
| DELETE | `/admin/product/delete/:id`      | Delete product by ID                        | Admin  |
| GET    | `/admin/product/fetchalladmin`   | Fetch all products (Admin view)            | Admin  |

### Admin Orders

| Method | Endpoint          | Description                   | Access |
|--------|-----------------|-------------------------------|--------|
| GET    | `/admin/orders/all` | Fetch all orders (Admin only) | Admin  |

---

## User Routes

| Method | Endpoint             | Description                         | Access       |
|--------|--------------------|-------------------------------------|-------------|
| POST   | `/user/register`     | User registration                   | Public      |
| POST   | `/user/login`        | User login                           | Public      |
| GET    | `/user/check-auth`   | Verify user authentication           | User        |
| GET    | `/user/logout`       | User logout (token handled by frontend) | User    |

### User Product Routes

| Method | Endpoint                      | Description                       | Access |
|--------|-------------------------------|-----------------------------------|--------|
| GET    | `/user/products/`             | Fetch all products                 | User   |
| GET    | `/user/products/discounted`   | Fetch discounted products          | User   |
| GET    | `/user/products/new`           | Fetch new products                 | User   |
| GET    | `/user/products/sort`          | Sort products by price             | User   |
| GET    | `/user/products/image/:id`     | Fetch product image                | User   |

### Cart Routes (User)

| Method | Endpoint               | Description                 | Access |
|--------|----------------------|-----------------------------|--------|
| GET    | `/user/cart/`         | Fetch user cart items       | User   |
| POST   | `/user/cart/add/:id`  | Add product to cart         | User   |
| DELETE | `/user/cart/delete/:id` | Delete product from cart    | User   |

### Wishlist Routes (User)

| Method | Endpoint                 | Description                | Access |
|--------|--------------------------|----------------------------|--------|
| GET    | `/user/wishlist/`        | Fetch user wishlist        | User   |
| POST   | `/user/wishlist/add/:id` | Add product to wishlist    | User   |
| DELETE | `/user/wishlist/delete/:id` | Remove product from wishlist | User |

### Order Routes (User)

| Method | Endpoint                | Description                  | Access |
|--------|-------------------------|------------------------------|--------|
| GET    | `/user/orders/`         | Fetch user orders            | User   |
| GET    | `/user/orders/create`   | Create new order             | User   |
